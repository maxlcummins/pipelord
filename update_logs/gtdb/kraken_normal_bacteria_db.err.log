Building DAG of jobs...
Using shell: /usr/bin/bash
Provided cores: 50
Rules claiming more threads will be scaled down.
Job counts:
	count	jobs
	5	bracken
	1	run_bracken_summarise
	5	run_fastp
	5	run_kraken2
	16
Select jobs to execute...

[Thu May 26 11:28:06 2022]
rule run_fastp:
    input: resources/test_data/reads/AVC2.R1.fastq.gz, resources/test_data/reads/AVC2.R2.fastq.gz
    output: results/test_gtdb/fastp/AVC2.R1.fastq.gz, results/test_gtdb/fastp/AVC2.R2.fastq.gz, results/test_gtdb/fastp/AVC2.fastp.json, results/test_gtdb/fastp/AVC2.fastp.html
    log: logs/test_gtdb/fastp/run/AVC2.log
    jobid: 15
    wildcards: prefix=test_gtdb, sample=AVC2
    threads: 3


            fastp -i resources/test_data/reads/AVC2.R1.fastq.gz -I resources/test_data/reads/AVC2.R2.fastq.gz -o results/test_gtdb/fastp/AVC2.R1.fastq.gz -O results/test_gtdb/fastp/AVC2.R2.fastq.gz --thread 3 -j results/test_gtdb/fastp/AVC2.fastp.json -h results/test_gtdb/fastp/AVC2.fastp.html 2>&1 logs/test_gtdb/fastp/run/AVC2.log
            

[Thu May 26 11:28:06 2022]
rule run_fastp:
    input: resources/test_data/reads/AVC111.R1.fastq.gz, resources/test_data/reads/AVC111.R2.fastq.gz
    output: results/test_gtdb/fastp/AVC111.R1.fastq.gz, results/test_gtdb/fastp/AVC111.R2.fastq.gz, results/test_gtdb/fastp/AVC111.fastp.json, results/test_gtdb/fastp/AVC111.fastp.html
    log: logs/test_gtdb/fastp/run/AVC111.log
    jobid: 9
    wildcards: prefix=test_gtdb, sample=AVC111
    threads: 3


            fastp -i resources/test_data/reads/AVC111.R1.fastq.gz -I resources/test_data/reads/AVC111.R2.fastq.gz -o results/test_gtdb/fastp/AVC111.R1.fastq.gz -O results/test_gtdb/fastp/AVC111.R2.fastq.gz --thread 3 -j results/test_gtdb/fastp/AVC111.fastp.json -h results/test_gtdb/fastp/AVC111.fastp.html 2>&1 logs/test_gtdb/fastp/run/AVC111.log
            

[Thu May 26 11:28:06 2022]
rule run_fastp:
    input: resources/test_data/reads/AVC199.R1.fastq.gz, resources/test_data/reads/AVC199.R2.fastq.gz
    output: results/test_gtdb/fastp/AVC199.R1.fastq.gz, results/test_gtdb/fastp/AVC199.R2.fastq.gz, results/test_gtdb/fastp/AVC199.fastp.json, results/test_gtdb/fastp/AVC199.fastp.html
    log: logs/test_gtdb/fastp/run/AVC199.log
    jobid: 12
    wildcards: prefix=test_gtdb, sample=AVC199
    threads: 3


            fastp -i resources/test_data/reads/AVC199.R1.fastq.gz -I resources/test_data/reads/AVC199.R2.fastq.gz -o results/test_gtdb/fastp/AVC199.R1.fastq.gz -O results/test_gtdb/fastp/AVC199.R2.fastq.gz --thread 3 -j results/test_gtdb/fastp/AVC199.fastp.json -h results/test_gtdb/fastp/AVC199.fastp.html 2>&1 logs/test_gtdb/fastp/run/AVC199.log
            

[Thu May 26 11:28:06 2022]
rule run_fastp:
    input: resources/test_data/reads/AVC209.R1.fastq.gz, resources/test_data/reads/AVC209.R2.fastq.gz
    output: results/test_gtdb/fastp/AVC209.R1.fastq.gz, results/test_gtdb/fastp/AVC209.R2.fastq.gz, results/test_gtdb/fastp/AVC209.fastp.json, results/test_gtdb/fastp/AVC209.fastp.html
    log: logs/test_gtdb/fastp/run/AVC209.log
    jobid: 3
    wildcards: prefix=test_gtdb, sample=AVC209
    threads: 3


            fastp -i resources/test_data/reads/AVC209.R1.fastq.gz -I resources/test_data/reads/AVC209.R2.fastq.gz -o results/test_gtdb/fastp/AVC209.R1.fastq.gz -O results/test_gtdb/fastp/AVC209.R2.fastq.gz --thread 3 -j results/test_gtdb/fastp/AVC209.fastp.json -h results/test_gtdb/fastp/AVC209.fastp.html 2>&1 logs/test_gtdb/fastp/run/AVC209.log
            

[Thu May 26 11:28:06 2022]
rule run_fastp:
    input: resources/test_data/reads/AVC10.R1.fastq.gz, resources/test_data/reads/AVC10.R2.fastq.gz
    output: results/test_gtdb/fastp/AVC10.R1.fastq.gz, results/test_gtdb/fastp/AVC10.R2.fastq.gz, results/test_gtdb/fastp/AVC10.fastp.json, results/test_gtdb/fastp/AVC10.fastp.html
    log: logs/test_gtdb/fastp/run/AVC10.log
    jobid: 6
    wildcards: prefix=test_gtdb, sample=AVC10
    threads: 3


            fastp -i resources/test_data/reads/AVC10.R1.fastq.gz -I resources/test_data/reads/AVC10.R2.fastq.gz -o results/test_gtdb/fastp/AVC10.R1.fastq.gz -O results/test_gtdb/fastp/AVC10.R2.fastq.gz --thread 3 -j results/test_gtdb/fastp/AVC10.fastp.json -h results/test_gtdb/fastp/AVC10.fastp.html 2>&1 logs/test_gtdb/fastp/run/AVC10.log
            
Activating conda environment: /data/malcummi/pipelord2_new/pipelord2_0/.snakemake/conda/cf61379a
Activating conda environment: /data/malcummi/pipelord2_new/pipelord2_0/.snakemake/conda/cf61379a
Activating conda environment: /data/malcummi/pipelord2_new/pipelord2_0/.snakemake/conda/cf61379a
Activating conda environment: /data/malcummi/pipelord2_new/pipelord2_0/.snakemake/conda/cf61379a
Activating conda environment: /data/malcummi/pipelord2_new/pipelord2_0/.snakemake/conda/cf61379a
[Thu May 26 11:29:10 2022]
Finished job 15.
1 of 16 steps (6%) done
Select jobs to execute...

[Thu May 26 11:29:10 2022]
rule run_kraken2:
    input: /projects/AusGEM/databases/kraken2/bacteria, results/test_gtdb/fastp/AVC2.R1.fastq.gz, results/test_gtdb/fastp/AVC2.R2.fastq.gz
    output: results/test_gtdb/QC_workflow/kraken2/AVC2.out, results/test_gtdb/QC_workflow/kraken2/AVC2.report
    log: logs/test_gtdb/QC_workflow/kraken2/run/AVC2_err.log
    jobid: 14
    wildcards: prefix=test_gtdb, sample=AVC2
    threads: 6


            kraken2 --db /projects/AusGEM/databases/kraken2/bacteria --use-names --memory-mapping --threads 6 --report results/test_gtdb/QC_workflow/kraken2/AVC2.report --output results/test_gtdb/QC_workflow/kraken2/AVC2.out results/test_gtdb/fastp/AVC2.R1.fastq.gz results/test_gtdb/fastp/AVC2.R2.fastq.gz  2> logs/test_gtdb/QC_workflow/kraken2/run/AVC2_err.log
            
Activating conda environment: /data/malcummi/pipelord2_new/pipelord2_0/.snakemake/conda/a938ebb9
[Thu May 26 11:29:12 2022]
Finished job 3.
2 of 16 steps (12%) done
Select jobs to execute...

[Thu May 26 11:29:12 2022]
rule run_kraken2:
    input: /projects/AusGEM/databases/kraken2/bacteria, results/test_gtdb/fastp/AVC209.R1.fastq.gz, results/test_gtdb/fastp/AVC209.R2.fastq.gz
    output: results/test_gtdb/QC_workflow/kraken2/AVC209.out, results/test_gtdb/QC_workflow/kraken2/AVC209.report
    log: logs/test_gtdb/QC_workflow/kraken2/run/AVC209_err.log
    jobid: 2
    wildcards: prefix=test_gtdb, sample=AVC209
    threads: 6


            kraken2 --db /projects/AusGEM/databases/kraken2/bacteria --use-names --memory-mapping --threads 6 --report results/test_gtdb/QC_workflow/kraken2/AVC209.report --output results/test_gtdb/QC_workflow/kraken2/AVC209.out results/test_gtdb/fastp/AVC209.R1.fastq.gz results/test_gtdb/fastp/AVC209.R2.fastq.gz  2> logs/test_gtdb/QC_workflow/kraken2/run/AVC209_err.log
            
Activating conda environment: /data/malcummi/pipelord2_new/pipelord2_0/.snakemake/conda/a938ebb9
[Thu May 26 11:29:13 2022]
Finished job 12.
3 of 16 steps (19%) done
Select jobs to execute...

[Thu May 26 11:29:13 2022]
rule run_kraken2:
    input: /projects/AusGEM/databases/kraken2/bacteria, results/test_gtdb/fastp/AVC199.R1.fastq.gz, results/test_gtdb/fastp/AVC199.R2.fastq.gz
    output: results/test_gtdb/QC_workflow/kraken2/AVC199.out, results/test_gtdb/QC_workflow/kraken2/AVC199.report
    log: logs/test_gtdb/QC_workflow/kraken2/run/AVC199_err.log
    jobid: 11
    wildcards: prefix=test_gtdb, sample=AVC199
    threads: 6


            kraken2 --db /projects/AusGEM/databases/kraken2/bacteria --use-names --memory-mapping --threads 6 --report results/test_gtdb/QC_workflow/kraken2/AVC199.report --output results/test_gtdb/QC_workflow/kraken2/AVC199.out results/test_gtdb/fastp/AVC199.R1.fastq.gz results/test_gtdb/fastp/AVC199.R2.fastq.gz  2> logs/test_gtdb/QC_workflow/kraken2/run/AVC199_err.log
            
Activating conda environment: /data/malcummi/pipelord2_new/pipelord2_0/.snakemake/conda/a938ebb9
[Thu May 26 11:29:14 2022]
Finished job 9.
4 of 16 steps (25%) done
Select jobs to execute...

[Thu May 26 11:29:14 2022]
rule run_kraken2:
    input: /projects/AusGEM/databases/kraken2/bacteria, results/test_gtdb/fastp/AVC111.R1.fastq.gz, results/test_gtdb/fastp/AVC111.R2.fastq.gz
    output: results/test_gtdb/QC_workflow/kraken2/AVC111.out, results/test_gtdb/QC_workflow/kraken2/AVC111.report
    log: logs/test_gtdb/QC_workflow/kraken2/run/AVC111_err.log
    jobid: 8
    wildcards: prefix=test_gtdb, sample=AVC111
    threads: 6


            kraken2 --db /projects/AusGEM/databases/kraken2/bacteria --use-names --memory-mapping --threads 6 --report results/test_gtdb/QC_workflow/kraken2/AVC111.report --output results/test_gtdb/QC_workflow/kraken2/AVC111.out results/test_gtdb/fastp/AVC111.R1.fastq.gz results/test_gtdb/fastp/AVC111.R2.fastq.gz  2> logs/test_gtdb/QC_workflow/kraken2/run/AVC111_err.log
            
Activating conda environment: /data/malcummi/pipelord2_new/pipelord2_0/.snakemake/conda/a938ebb9
[Thu May 26 11:29:20 2022]
Finished job 6.
5 of 16 steps (31%) done
Select jobs to execute...

[Thu May 26 11:29:20 2022]
rule run_kraken2:
    input: /projects/AusGEM/databases/kraken2/bacteria, results/test_gtdb/fastp/AVC10.R1.fastq.gz, results/test_gtdb/fastp/AVC10.R2.fastq.gz
    output: results/test_gtdb/QC_workflow/kraken2/AVC10.out, results/test_gtdb/QC_workflow/kraken2/AVC10.report
    log: logs/test_gtdb/QC_workflow/kraken2/run/AVC10_err.log
    jobid: 5
    wildcards: prefix=test_gtdb, sample=AVC10
    threads: 6


            kraken2 --db /projects/AusGEM/databases/kraken2/bacteria --use-names --memory-mapping --threads 6 --report results/test_gtdb/QC_workflow/kraken2/AVC10.report --output results/test_gtdb/QC_workflow/kraken2/AVC10.out results/test_gtdb/fastp/AVC10.R1.fastq.gz results/test_gtdb/fastp/AVC10.R2.fastq.gz  2> logs/test_gtdb/QC_workflow/kraken2/run/AVC10_err.log
            
Activating conda environment: /data/malcummi/pipelord2_new/pipelord2_0/.snakemake/conda/a938ebb9
[Thu May 26 13:22:03 2022]
Finished job 11.
6 of 16 steps (38%) done
Select jobs to execute...

[Thu May 26 13:22:03 2022]
rule bracken:
    input: results/test_gtdb/QC_workflow/kraken2/AVC199.report
    output: results/test_gtdb/QC_workflow/bracken/AVC199.bracken.txt, results/test_gtdb/QC_workflow/bracken/AVC199_bracken_species_report.txt
    log: logs/test_gtdb/QC_workflow/bracken/AVC199.bracken.log
    jobid: 10
    wildcards: prefix=test_gtdb, sample=AVC199
    threads: 4

resources/tools/Bracken/bracken -d /projects/AusGEM/databases/kraken2/bacteria -i results/test_gtdb/QC_workflow/kraken2/AVC199.report -o results/test_gtdb/QC_workflow/bracken/AVC199.bracken.txt -w results/test_gtdb/QC_workflow/bracken/AVC199_bracken_species_report.txt -r 100 -l S -t 4 2>&1 logs/test_gtdb/QC_workflow/bracken/AVC199.bracken.log
Activating conda environment: /data/malcummi/pipelord2_new/pipelord2_0/.snakemake/conda/a938ebb9
[Thu May 26 13:22:06 2022]
Finished job 14.
7 of 16 steps (44%) done
Select jobs to execute...

[Thu May 26 13:22:06 2022]
rule bracken:
    input: results/test_gtdb/QC_workflow/kraken2/AVC2.report
    output: results/test_gtdb/QC_workflow/bracken/AVC2.bracken.txt, results/test_gtdb/QC_workflow/bracken/AVC2_bracken_species_report.txt
    log: logs/test_gtdb/QC_workflow/bracken/AVC2.bracken.log
    jobid: 13
    wildcards: prefix=test_gtdb, sample=AVC2
    threads: 4

resources/tools/Bracken/bracken -d /projects/AusGEM/databases/kraken2/bacteria -i results/test_gtdb/QC_workflow/kraken2/AVC2.report -o results/test_gtdb/QC_workflow/bracken/AVC2.bracken.txt -w results/test_gtdb/QC_workflow/bracken/AVC2_bracken_species_report.txt -r 100 -l S -t 4 2>&1 logs/test_gtdb/QC_workflow/bracken/AVC2.bracken.log
Activating conda environment: /data/malcummi/pipelord2_new/pipelord2_0/.snakemake/conda/a938ebb9
[Thu May 26 13:22:08 2022]
Finished job 8.
8 of 16 steps (50%) done
Select jobs to execute...

[Thu May 26 13:22:08 2022]
rule bracken:
    input: results/test_gtdb/QC_workflow/kraken2/AVC111.report
    output: results/test_gtdb/QC_workflow/bracken/AVC111.bracken.txt, results/test_gtdb/QC_workflow/bracken/AVC111_bracken_species_report.txt
    log: logs/test_gtdb/QC_workflow/bracken/AVC111.bracken.log
    jobid: 7
    wildcards: prefix=test_gtdb, sample=AVC111
    threads: 4

resources/tools/Bracken/bracken -d /projects/AusGEM/databases/kraken2/bacteria -i results/test_gtdb/QC_workflow/kraken2/AVC111.report -o results/test_gtdb/QC_workflow/bracken/AVC111.bracken.txt -w results/test_gtdb/QC_workflow/bracken/AVC111_bracken_species_report.txt -r 100 -l S -t 4 2>&1 logs/test_gtdb/QC_workflow/bracken/AVC111.bracken.log
Activating conda environment: /data/malcummi/pipelord2_new/pipelord2_0/.snakemake/conda/a938ebb9
[Thu May 26 13:22:08 2022]
Finished job 2.
9 of 16 steps (56%) done
Select jobs to execute...

[Thu May 26 13:22:08 2022]
rule bracken:
    input: results/test_gtdb/QC_workflow/kraken2/AVC209.report
    output: results/test_gtdb/QC_workflow/bracken/AVC209.bracken.txt, results/test_gtdb/QC_workflow/bracken/AVC209_bracken_species_report.txt
    log: logs/test_gtdb/QC_workflow/bracken/AVC209.bracken.log
    jobid: 1
    wildcards: prefix=test_gtdb, sample=AVC209
    threads: 4

resources/tools/Bracken/bracken -d /projects/AusGEM/databases/kraken2/bacteria -i results/test_gtdb/QC_workflow/kraken2/AVC209.report -o results/test_gtdb/QC_workflow/bracken/AVC209.bracken.txt -w results/test_gtdb/QC_workflow/bracken/AVC209_bracken_species_report.txt -r 100 -l S -t 4 2>&1 logs/test_gtdb/QC_workflow/bracken/AVC209.bracken.log
Activating conda environment: /data/malcummi/pipelord2_new/pipelord2_0/.snakemake/conda/a938ebb9
[Thu May 26 13:22:10 2022]
Finished job 10.
10 of 16 steps (62%) done
[Thu May 26 13:22:10 2022]
Finished job 13.
11 of 16 steps (69%) done
[Thu May 26 13:22:10 2022]
Finished job 7.
12 of 16 steps (75%) done
[Thu May 26 13:22:10 2022]
Finished job 1.
13 of 16 steps (81%) done
[Thu May 26 13:22:10 2022]
Finished job 5.
14 of 16 steps (88%) done
Select jobs to execute...

[Thu May 26 13:22:10 2022]
rule bracken:
    input: results/test_gtdb/QC_workflow/kraken2/AVC10.report
    output: results/test_gtdb/QC_workflow/bracken/AVC10.bracken.txt, results/test_gtdb/QC_workflow/bracken/AVC10_bracken_species_report.txt
    log: logs/test_gtdb/QC_workflow/bracken/AVC10.bracken.log
    jobid: 4
    wildcards: prefix=test_gtdb, sample=AVC10
    threads: 4

resources/tools/Bracken/bracken -d /projects/AusGEM/databases/kraken2/bacteria -i results/test_gtdb/QC_workflow/kraken2/AVC10.report -o results/test_gtdb/QC_workflow/bracken/AVC10.bracken.txt -w results/test_gtdb/QC_workflow/bracken/AVC10_bracken_species_report.txt -r 100 -l S -t 4 2>&1 logs/test_gtdb/QC_workflow/bracken/AVC10.bracken.log
Activating conda environment: /data/malcummi/pipelord2_new/pipelord2_0/.snakemake/conda/a938ebb9
[Thu May 26 13:22:12 2022]
Finished job 4.
15 of 16 steps (94%) done
Select jobs to execute...

[Thu May 26 13:22:12 2022]
rule run_bracken_summarise:
    input: results/test_gtdb/QC_workflow/bracken/AVC209.bracken.txt, results/test_gtdb/QC_workflow/bracken/AVC10.bracken.txt, results/test_gtdb/QC_workflow/bracken/AVC111.bracken.txt, results/test_gtdb/QC_workflow/bracken/AVC199.bracken.txt, results/test_gtdb/QC_workflow/bracken/AVC2.bracken.txt
    output: results/test/QC_workflow/summaries/bracken_report.txt
    log: logs/test/QC_workflow/summaries/combine_bracken.log
    jobid: 0
    wildcards: prefix=test

/home/malcummi/Data/miniconda3/envs/snakemake/bin/python3.9 /data/malcummi/pipelord2_new/pipelord2_0/.snakemake/scripts/tmpg404mw9f.combine_bracken.py
[Thu May 26 13:22:29 2022]
Finished job 0.
16 of 16 steps (100%) done
Complete log: /data/malcummi/pipelord2_new/pipelord2_0/.snakemake/log/2022-05-26T112803.321652.snakemake.log
echo Your Snakemake job with prefix 'test_gtdb' has finished. It has been written to 'results/test_gtdb/summaries/' | mail -s 'Snakemake job has finished' None
